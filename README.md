Requirements
===

The expected development environment is an IntelliJ editor.

The Lexer should be built with Java 1.8 for compatibility with the IDE.

Building Generated Files
===

There are three generated components of the project. These are meant to be generated with the tools provided by the `GrammarKit` plugin.

### Dhall.bnf to Dhall Parser

This converts the `GrammarKit` file into a PEG parser. It can be regenerated using `Tools > Generate Parser Code` with `Dhall.bnf` in focus.

### _DhallLexer.flex to Lexer 

This is a JFlex file and we must convert it into a Java lexer. It can be regenerated using `Tools > Run JFlex Generator` with `_DhallLexer.flex` in focus.

### Dhall.bnf to _DhallLexer.flex

The JFlex lexer generated from the Dhall parser is meant to be committed and hand-edited, but at this stage there is no need for the lexer to be hand-edited except to remove [this conflicting rule](https://github.com/JetBrains/Grammar-Kit/blob/81cbce63ff4d3b908e5be343eeb82b15ec3b51ec/resources/templates/lexer.flex.template#L25-L26) and [another](https://github.com/JetBrains/Grammar-Kit/blob/81cbce63ff4d3b908e5be343eeb82b15ec3b51ec/resources/templates/lexer.flex.template#L35). This lexer can be regenerated by selecting `Tools > Generate JFlex Lexer` with `Dhall.bnf` in focus.


Basic Development Commands
===
In order to run the test version of the development IDE, run the `sbt` shell and then the command `runIDE`.


Resetting Downloaded IDEA
===

The default location where `sbt` stores the downloaded development `IDEA` is `~/.intellij-dhall...`. This folder can be deleted for `sbt` to download the plugin again on its next run.
